<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>{% if page.title %}{{ page.title }} â€“ {% endif %}{{ site.name }}</title>
    <meta name="description" content="{{ site.description }}">

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Source+Serif+4:ital,wght@0,400;0,600;1,400&display=swap" rel="stylesheet">
    <link rel="stylesheet" type="text/css" href="{{ site.baseurl }}/style.css">
  </head>

  <body>
    <!-- Navigation -->
    <nav class="nav" id="nav">
      <div class="nav-inner">
        <a href="#" class="nav-logo">{{ site.name }}</a>
        <div class="nav-links">
          <a href="#about">About</a>
          <a href="#research">Research</a>
          <a href="#publications">Publications</a>
          <a href="#talks">Talks</a>
          <a href="#teaching">Teaching</a>
          <a href="#honors">Honors &amp; Scholarships</a>
          <a href="#contact">Contact</a>
          <a href="{{ "/blog/" | relative_url }}">Blog</a>
        </div>
        <button class="nav-toggle" aria-label="Toggle menu">
          <span></span><span></span><span></span>
        </button>
      </div>
    </nav>

    {{ content }}

    <!-- Footer -->
    <footer class="footer">
      <div class="container">
        <p>&copy; {{ site.time | date: '%Y' }} {{ site.name }}</p>
      </div>
    </footer>

    <script>
      // Mobile nav toggle
      const toggle = document.querySelector('.nav-toggle');
      const navLinks = document.querySelector('.nav-links');
      if (toggle) {
        toggle.addEventListener('click', () => {
          navLinks.classList.toggle('open');
          toggle.classList.toggle('open');
        });
      }
      // Close mobile nav on link click
      document.querySelectorAll('.nav-links a').forEach(link => {
        link.addEventListener('click', () => {
          navLinks.classList.remove('open');
          toggle.classList.remove('open');
        });
      });
      // Navbar background on scroll
      window.addEventListener('scroll', () => {
        document.getElementById('nav').classList.toggle('scrolled', window.scrollY > 50);
      });
      // Smooth scroll
      document.querySelectorAll('a[href^="#"]').forEach(a => {
        a.addEventListener('click', e => {
          e.preventDefault();
          const target = document.querySelector(a.getAttribute('href'));
          if (target) {
            const offset = 80;
            window.scrollTo({ top: target.offsetTop - offset, behavior: 'smooth' });
          }
        });
      });
    </script>
  </body>
</html>
